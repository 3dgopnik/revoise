# TODO

- Hook `AiEditDialog` into the main text editor workflow.
- Add guidance for installing optional 'torch' dependency for Silero engine.
- Add shfmt configuration to enforce shell script style.
- Notify users in the UI when `QwenEditor` is unavailable.
- Add optional cleanup of Hugging Face cache directory on exit.
- Add unit tests for torch installation fallback logic in `ensure_tts_dependencies`.
- Add unit tests for omegaconf retry and import spec checks in `ensure_tts_dependencies`.
- Provide a UI warning banner when GPU acceleration is unavailable.
- Add unit tests for `ensure_uv` helper.
- Provide clearer feedback when `uv` installation fails in `ensure_uv`.
- Provide offline installation support for `uv` in `ensure_uv`.
- Add unit tests for `pkg_installer.ensure_package` import retry logic.
- Add tests for interactive pinning in `pkg_installer.ensure_package`.
- Add tests for QwenEditor model loading and dependency installation.
- Remove legacy `ensure_tts_dependencies` once all engines use `ensure_package` directly.
- Integrate GUI dialogs for `pkg_installer.ensure_package` failures.
- Populate model registry with SHA256 hashes for integrity checks.
- Offer heavier STT/TTS packages as optional extras instead of core dependencies.
- Format remaining source files with `ruff format`.
- Add a pre-commit config to streamline linting and formatting.
- Provide a one-shot script to install dev dependencies and run quality checks.
- Add validation for `llm` and `tts` configuration blocks.
- Support optional indices for package mirrors.
- Add advanced cache cleanup options.
- Add unit tests for error handling in `model_manager.ensure_model`.
- Expand externals manifest to cover macOS builds and signature verification.
- Integrate `ExternalsDialog` into FFmpeg setup to replace blocking downloads.
- Regenerate `uv.lock` to capture optional dependencies like `imageio-ffmpeg`.
- Enable automated import sorting via Ruff to avoid manual fixes.
- Consider using `uv pip sync` for reproducibility.
- Add preset editor and saving UI for `.rvpreset` files.

- Package `run_ui` scripts as a Python entry point for unified CLI launch.
- Make Silero TTS retry attempts configurable and add exponential backoff.
- Document troubleshooting for SSL certificate errors during model downloads.
- Integrate VibeVoice TTS engine from Microsoft.
  - Verify compatibility with current architecture.
  - Prepare uv-based installation in a dedicated virtual environment.
  - Add VibeVoice as a selectable engine alongside Silero and Kokoro.
  - Implement multilingual support (Russian and English).
  - Provide dialogue narration for up to four characters.
  - Account for high VRAM requirements (Large model ~9.5GB).
  - Consider using quantized weights to reduce resource usage.
  - Clarify how built-in watermarks impact usage.
- Port remaining TTS engines to the new `TTSEngineBase` architecture.
- Extend Silero registry to cover more languages and voices.
